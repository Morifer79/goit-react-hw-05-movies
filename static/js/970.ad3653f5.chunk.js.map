{"version":3,"file":"static/js/970.ad3653f5.chunk.js","mappings":"iRAEaA,EAAcC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,iCAIxBC,EAAWH,EAAAA,GAAAA,GAASI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,6DAGxB,SAAAG,GAAC,OAAIA,EAAEC,MAAMC,QAAQ,GAAG,IAGpBC,EAAWR,EAAAA,GAAAA,EAAQS,IAAAA,GAAAP,EAAAA,EAAAA,GAAA,kRAInBQ,EAAWV,EAAAA,GAAAA,GAASW,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,qNAKf,SAAAG,GAAC,OAAIA,EAAEC,MAAMC,QAAQ,IAAI,IACtB,SAAAF,GAAC,OAAIA,EAAEC,MAAMC,QAAQ,IAAI,IASjCK,EAAYZ,EAAAA,GAAAA,IAAUa,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,oJAEZ,SAAAG,GAAC,OAAIA,EAAEC,MAAMQ,OAAOC,OAAO,IACtB,SAAAV,GAAC,OAAIA,EAAEC,MAAMU,MAAMC,EAAE,IACjB,SAAAZ,GAAC,OAAIA,EAAEC,MAAMU,MAAMC,EAAE,I,0FC0DrD,EA7Ea,WACX,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAkCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAA8BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACpBG,GAAYC,EAAAA,EAAAA,UAgClB,OA9BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAO,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAQK,OAPfb,EAAUc,SACZd,EAAUc,QAAQC,QAEpBf,EAAUc,QAAU,IAAIE,gBAAkBL,EAAAC,KAAA,EAGxCjB,GAAa,GACbI,EAAW,MAAMY,EAAAE,KAAA,GACMI,EAAAA,EAAAA,IACrBjC,EACAgB,EAAUc,QAAQI,QAClB,KAAD,EAHKT,EAAQE,EAAAQ,KAId5B,EAAQkB,GAAUE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAEC,iBAAfA,EAAAS,GAAMC,MACRtB,EAAWY,EAAAS,GAAME,SAClB,QAEmB,OAFnBX,EAAAC,KAAA,GAEDjB,GAAa,GAAOgB,EAAAY,OAAA,6BAAAZ,EAAAa,OAAA,GAAAhB,EAAA,yBAEvB,kBArBY,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KAsBbvB,GACF,GAAG,CAACnB,IAEAM,GACFqC,EAAAA,GAAAA,WAAyB,MAIzBC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGpC,IAAaqC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACpBlC,IAAWiC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,kCACfC,EAAAA,EAAAA,KAAClE,EAAW,CAAAiE,UACVC,EAAAA,EAAAA,KAAC9D,EAAQ,CAAA6D,SACNxC,EAAK2C,KAAI,SAAAC,GAA4C,IAAzCC,EAAED,EAAFC,GAAIC,EAAYF,EAAZE,aAAcC,EAAIH,EAAJG,KAAMC,EAASJ,EAATI,UACnC,OACEP,EAAAA,EAAAA,KAACvD,EAAQ,CAAAsD,UACPF,EAAAA,EAAAA,MAACtD,EAAQ,CACPiE,KAAI,iCAAAC,OAAmCH,GACvCI,OAAO,SACPC,IAAI,sBAAqBZ,SAAA,EAEzBC,EAAAA,EAAAA,KAACrD,EAAS,CACRiE,IACEP,EAvDJ,kCAuD+BA,EAAeQ,EAE5CC,IAAKR,EACLS,MAAO,IACPC,OAAQ,OAEVnB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,WACFO,MAEHT,EAAAA,EAAAA,MAAA,KAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,gBACFQ,SApBQH,EAyBnB,UAKV,C,0LCzFAa,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCAEHC,EAAa,eAAA9C,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAMU,GAAM,IAAAiC,EAAAC,EAAA,OAAA9C,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAChBmC,EAAAA,EAAAA,IAAU,qBAAsB,CACrD9B,OAAAA,EACAmC,OAAQ,CACNC,QAASL,EACTM,SAAU,WAEX,KAAD,EANU,OAMVJ,EAAAxC,EAAAQ,KANMiC,EAAID,EAAJC,KAAIzC,EAAA6C,OAAA,SAQLJ,EAAKK,SAAO,wBAAA9C,EAAAa,OAAA,GAAAhB,EAAA,KACpB,gBAVyBkD,GAAA,OAAAtD,EAAAqB,MAAA,KAAAC,UAAA,KAYbiC,EAAgB,eAAAzB,GAAA7B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAqD,EAAOC,EAAO3C,GAAM,IAAA4C,EAAA,OAAAxD,EAAAA,EAAAA,KAAAI,MAAA,SAAAqD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,cAAAkD,EAAAlD,KAAA,EAC3BmC,EAAAA,EAAAA,IAAU,eAAgB,CAC/C9B,OAAAA,EACAmC,OAAQ,CACNC,QAASL,EACTM,SAAU,QACVM,MAAAA,EACAG,eAAe,EACfC,KAAM,KAEP,KAAD,EATY,OAARH,EAAQC,EAAA5C,KAAA4C,EAAAP,OAAA,SAUPM,EAASV,KAAKK,SAAO,wBAAAM,EAAAvC,OAAA,GAAAoC,EAAA,KAC7B,gBAZ4BM,EAAAC,GAAA,OAAAjC,EAAAT,MAAA,KAAAC,UAAA,KAchB0C,EAAiB,eAAAC,GAAAhE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA+D,EAAOtF,EAASkC,GAAM,IAAAqD,EAAAnB,EAAA,OAAA9C,EAAAA,EAAAA,KAAAI,MAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,cAAA2D,EAAA3D,KAAA,EAC9BmC,EAAAA,EAAAA,IAAU,SAADR,OAAUxD,GAAW,CACnDkC,OAAAA,EACAmC,OAAQ,CACNC,QAASL,EACTM,SAAU,WAEX,KAAD,EANU,OAMVgB,EAAAC,EAAArD,KANMiC,EAAImB,EAAJnB,KAAIoB,EAAAhB,OAAA,SAOLJ,GAAI,wBAAAoB,EAAAhD,OAAA,GAAA8C,EAAA,KACZ,gBAT6BG,EAAAC,GAAA,OAAAL,EAAA5C,MAAA,KAAAC,UAAA,KAWjBT,EAAe,eAAA0D,GAAAtE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAqE,EAAO5F,EAASkC,GAAM,IAAA2D,EAAAzB,EAAA,OAAA9C,EAAAA,EAAAA,KAAAI,MAAA,SAAAoE,GAAA,cAAAA,EAAAlE,KAAAkE,EAAAjE,MAAA,cAAAiE,EAAAjE,KAAA,EAC5BmC,EAAAA,EAAAA,IAAU,SAADR,OAAUxD,EAAO,YAAY,CAC3DkC,OAAAA,EACAmC,OAAQ,CACNC,QAASL,EACTM,SAAU,WAEX,KAAD,EANU,OAMVsB,EAAAC,EAAA3D,KANMiC,EAAIyB,EAAJzB,KAAI0B,EAAAtB,OAAA,SAOLJ,EAAK9D,MAAI,wBAAAwF,EAAAtD,OAAA,GAAAoD,EAAA,KACjB,gBAT2BG,EAAAC,GAAA,OAAAL,EAAAlD,MAAA,KAAAC,UAAA,KAWfuD,EAAkB,eAAAC,GAAA7E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA4E,EAAOnG,EAASkC,GAAM,IAAAkE,EAAAhC,EAAA,OAAA9C,EAAAA,EAAAA,KAAAI,MAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cAAAwE,EAAAxE,KAAA,EAC/BmC,EAAAA,EAAAA,IAAU,SAADR,OAAUxD,EAAO,YAAY,CAC3DkC,OAAAA,EACAmC,OAAQ,CACNC,QAASL,EACTM,SAAU,QACVU,KAAM,KAEP,KAAD,EAPU,OAOVmB,EAAAC,EAAAlE,KAPMiC,EAAIgC,EAAJhC,KAAIiC,EAAA7B,OAAA,SAQLJ,EAAKK,SAAO,wBAAA4B,EAAA7D,OAAA,GAAA2D,EAAA,KACpB,gBAV8BG,EAAAC,GAAA,OAAAL,EAAAzD,MAAA,KAAAC,UAAA,I","sources":["components/Cast/Cast.styled.jsx","components/Cast/Cast.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CastWrapper = styled.div`\n  padding: 15px 10px;\n`;\n\nexport const CastList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${p => p.theme.spacing(10)};\n`;\n\nexport const WikiLink = styled.a`\n  //для перехода на Википедию и отсутствия конфликта\n`;\n\nexport const CastItem = styled.li`\n  width: 200px;\n  overflow: hidden;\n\n  p:not(:last-child) {\n    margin-top: ${p => p.theme.spacing(2.5)};\n    margin-bottom: ${p => p.theme.spacing(2.5)};\n  }\n\n  &:hover img {\n    filter: grayscale(1);\n    transition: 300ms ease-in-out;\n  }\n`;\n\nexport const ActorsImg = styled.img`\n  height: 300px;\n  border: 3px dotted ${p => p.theme.colors.bernred};\n  border-top-left-radius: ${p => p.theme.radii.lg};\n  border-bottom-right-radius: ${p => p.theme.radii.lg};\n  filter: grayscale(0);\n`;\n","import { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchSearchCast } from 'services/api';\nimport {\n  ActorsImg,\n  CastItem,\n  CastList,\n  CastWrapper,\n  WikiLink,\n} from './Cast.styled';\nimport { Loader } from 'components/Loader/Loader';\nimport { animateScroll } from 'react-scroll';\nimport default_person from '../../images/default_person.jpg';\n\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(null);\n  const abortCtrl = useRef();\n\n  useEffect(() => {\n    const getCast = async () => {\n      if (abortCtrl.current) {\n        abortCtrl.current.abort();\n      }\n      abortCtrl.current = new AbortController();\n\n      try {\n        setIsLoading(true);\n        setIsError(null);\n        const castInfo = await fetchSearchCast(\n          movieId,\n          abortCtrl.current.signal\n        );\n        setCast(castInfo);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          setIsError(error.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getCast();\n  }, [movieId]);\n\n  if (cast) {\n    animateScroll.scrollMore(620);\n  }\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {isError && <p>There is no information yet.</p>}\n      <CastWrapper>\n        <CastList>\n          {cast.map(({ id, profile_path, name, character }) => {\n            return (\n              <CastItem key={id}>\n                <WikiLink\n                  href={`https://ru.wikipedia.org/wiki/${name}`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <ActorsImg\n                    src={\n                      profile_path ? IMAGE_URL + profile_path : default_person\n                    }\n                    alt={name}\n                    width={200}\n                    height={300}\n                  />\n                  <p>\n                    <b>Name: </b>\n                    {name}\n                  </p>\n                  <p>\n                    <b>Character: </b>\n                    {character}\n                  </p>\n                </WikiLink>\n              </CastItem>\n            );\n          })}\n        </CastList>\n      </CastWrapper>\n    </>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'c16c869f875a641f65f14ffc799280d5';\n\nexport const fetchHomePage = async signal => {\n  const { data } = await axios.get('trending/movie/day', {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n\n  return data.results;\n};\n\nexport const fetchSearchMovie = async (query, signal) => {\n  const response = await axios.get('search/movie', {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      query,\n      include_adult: false,\n      page: 1,\n    },\n  });\n  return response.data.results;\n};\n\nexport const fetchSearchDetail = async (movieId, signal) => {\n  const { data } = await axios.get(`movie/${movieId}`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n  return data;\n};\n\nexport const fetchSearchCast = async (movieId, signal) => {\n  const { data } = await axios.get(`movie/${movieId}/credits`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n  return data.cast;\n};\n\nexport const fetchSearchReviews = async (movieId, signal) => {\n  const { data } = await axios.get(`movie/${movieId}/reviews`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      page: 1,\n    },\n  });\n  return data.results;\n};\n"],"names":["CastWrapper","styled","_templateObject","_taggedTemplateLiteral","CastList","_templateObject2","p","theme","spacing","WikiLink","_templateObject3","CastItem","_templateObject4","ActorsImg","_templateObject5","colors","bernred","radii","lg","movieId","useParams","_useState","useState","_useState2","_slicedToArray","cast","setCast","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isError","setIsError","abortCtrl","useRef","useEffect","getCast","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","castInfo","wrap","_context","prev","next","current","abort","AbortController","fetchSearchCast","signal","sent","t0","code","message","finish","stop","apply","arguments","animateScroll","_jsxs","_Fragment","children","_jsx","Loader","map","_ref2","id","profile_path","name","character","href","concat","target","rel","src","default_person","alt","width","height","axios","API_KEY","fetchHomePage","_yield$axios$get","data","params","api_key","language","abrupt","results","_x","fetchSearchMovie","_callee2","query","response","_context2","include_adult","page","_x2","_x3","fetchSearchDetail","_ref3","_callee3","_yield$axios$get2","_context3","_x4","_x5","_ref4","_callee4","_yield$axios$get3","_context4","_x6","_x7","fetchSearchReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x8","_x9"],"sourceRoot":""}